(function(e){function n(n){for(var a,l,o=n[0],u=n[1],s=n[2],m=0,p=[];m<o.length;m++)l=o[m],r[l]&&p.push(r[l][0]),r[l]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(n);while(p.length)p.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,o=1;o<t.length;o++){var u=t[o];0!==r[u]&&(a=!1)}a&&(i.splice(n--,1),e=l(l.s=t[0]))}return e}var a={},r={1:0},i=[];function l(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=a,l.d=function(e,n,t){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)l.d(t,a,function(n){return e[n]}.bind(null,a));return t},l.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=n,o=o.slice();for(var s=0;s<o.length;s++)n(o[s]);var c=u;i.push([2,0]),t()})({2:function(e,n,t){e.exports=t("Vtdi")},EDI0:function(e,n,t){},Vtdi:function(e,n,t){"use strict";t.r(n);t("VRzm");var a=t("Kw5r"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("PlateList")],1)},i=[],l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",[e._v(" \n    Welcome "+e._s(e.currentFamily.name)+"!\n  ")]),t("div",[e._v("\n    Select your family:\n      "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.currentFamily,expression:"currentFamily"}],on:{change:[function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var n="_value"in e?e._value:e.value;return n});e.currentFamily=n.target.multiple?t:t[0]},function(n){e.getPlates()}]}},e._l(e.families,function(n){return t("option",{key:n._id,domProps:{value:n}},[e._v(e._s(n.name))])})),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newFamily,expression:"newFamily"}],domProps:{value:e.newFamily},on:{input:function(n){n.target.composing||(e.newFamily=n.target.value)}}}),t("button",{on:{click:function(n){e.addFamily()}}},[e._v("+")])])]),t("ul",e._l(e.plates,function(n){return t("li",{key:n.name,staticClass:"plate",class:{found:n.found},on:{click:function(t){e.markAsDone(n)}}},[t("div"),e._v("\n      "+e._s(n.name)+"\n    ")])}))])},o=[],u=(t("f3/d"),t("ls82"),t("MECJ")),s=t("vDqi"),c=t.n(s),m=function(e){return console.log(e)},p="/api",d={name:"PlateList",props:{},data:function(){return{plates:[],families:[],selected:"",currentFamily:{},newFamily:""}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return m("compotnent created"),e.next=3,c.a.post(p,{query:"{\n          allFamilies{\n            name\n            _id\n        }}"});case 3:n=e.sent,this.families=n.data.data.allFamilies;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{addFamily:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return m({msg:"marking plate as done",name:this.newFamily}),e.next=3,c.a.post(p,{query:"\n       mutation CreateNewFamilty($newFamily: String!) {   \n          addFamily(name: $newFamily){\n          name\n          _id\n        }}",variables:{newFamily:this.newFamily}});case 3:n=e.sent,console.log(n.data),this.families=n.data.data.addFamily;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getPlates:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return m({msg:"getting plates, on change",evt:n}),e.next=3,c.a.post(p,{query:"\n       query GetPlatesForFamily($familyId: String!) {   \n          familyPlates (familyId: $familyId){\n            name\n            abbreviation\n            familyId\n            _id\n            found\n        }}",variables:{familyId:this.currentFamily._id}});case 3:t=e.sent,this.plates=t.data.data.familyPlates;case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),markAsDone:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return m({msg:"marking plate as done",plate:n,name:n.name}),e.next=3,c.a.post(p,{query:"\n       mutation MarkPlateForFamily($familyId: String!, $plateId: String!) {   \n          markPlateSelected(familyId: $familyId, plateId: $plateId){\n          familyId\n          plateId\n        }}",variables:{familyId:this.currentFamily._id,plateId:n._id}});case 3:n.found=new Date;case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()}},f=d,y=(t("wbag"),t("KHd+")),v=Object(y["a"])(f,l,o,!1,null,"af232072",null),g=v.exports,h={name:"app",components:{PlateList:g}},w=h,b=(t("ZL7j"),Object(y["a"])(w,r,i,!1,null,null,null)),_=b.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(_)}}).$mount("#app")},ZL7j:function(e,n,t){"use strict";var a=t("EDI0"),r=t.n(a);r.a},ZdVQ:function(e,n,t){},wbag:function(e,n,t){"use strict";var a=t("ZdVQ"),r=t.n(a);r.a}});
//# sourceMappingURL=app.dc3b1bed.js.map